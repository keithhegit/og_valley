1. # Og Valley 用户测试流程指南 (User Journey)

   本文档提供一个完整的标准游戏流程测试方案，旨在模拟真实玩家的 "第一天" 体验，以验证核心循环的完整性。

   ## 🕹️ 测试前准备

   1. **清除存档**: 由于版本更新，旧存档可能导致数据不一致。代码已更新为 `SAVE_KEY_V2`，刷新页面应自动开始新游戏。
   2. **环境**: 建议使用 PC 浏览器 (Chrome/Edge)，保持窗口最大化。

   ------

   ## 🌅 第一阶段：清晨 (6:00 AM - 9:00 AM)

   **目标**: 熟悉界面与基础操作

   1. **醒来与检查**:

      -  确认时间显示为 `第 1 天, 春季 | 6:00`。

      -  检查右上角状态：生命 100/100，体力 100/100，金钱 50g。

      -  

        关键检查

        : 按

         

        ```
        E
        ```

         

        打开背包，确认拥有：

        - 锄头、喷壶、斧头、镐子、生锈的剑、镰刀、钓竿。
        - **15个 防风草种子** (Slot 8)。

   2. **清理农场**:

      -  选中 **镰刀** (按数字键 `6` 或点击图标)。
      -  走到杂草旁，按 `空格` 或 `鼠标左键` 清理。确认**不消耗体力**。
      -  选中 **斧头** (按 `3`)，砍伐树枝。确认消耗 2 体力，获得木头。
      -  选中 **镐子** (按 `4`)，敲碎石头。确认消耗 2 体力，获得石头。
      -  **验证**: 确认此时体力应少于 100 (例如 96)。

   ------

   ## ☀️ 第二阶段：耕种 (9:00 AM - 12:00 PM)

   **目标**: 体验核心种植循环

   1. **耕地**:
      -  选中 **锄头** (按 `1`)。
      -  在空地上按 `空格` 耕出 3x3 的一片地 (9个格子)。
      -  **验证**: 地面变为深色耕地，体力减少。
   2. **播种**:
      -  选中 **防风草种子** (按 `8`)。
      -  站在耕地上，按 `空格` 或点击鼠标播种。
      -  **验证**: 耕地上出现种子图标，库存中种子数量减少。
   3. **浇水**:
      -  选中 **喷壶** (按 `2`)。
      -  对准种下的种子按 `空格`。
      -  **验证**: 土壤颜色变深 (湿润状态)。**注意**: 如果不浇水，作物不会生长。

   ------

   ## 🚶 第三阶段：探索与社交 (12:00 PM - 6:00 PM)

   **目标**: 验证地图切换与 NPC 交互

   1. **前往小镇**:
      -  向右走到地图边缘，进入 **小镇 (TOWN)** 场景。
      -  **验证**: 场景切换，右上角显示 "小镇"。
   2. **NPC 互动**:
      -  找到 **Mayor Lewis** (通常在地图右侧)。
      -  走近并按 `空格` 或点击他。
      -  **验证**: 弹出对话框，头顶显示 `+10 💚` (好感度增加)。
   3. **前往矿井**:
      -  往小镇右上角走，进入 **矿井 (MINE)**。
      -  **验证**: 场景变暗，出现梯子和矿石。
      -  试着敲碎一个 **铜矿脉** (橙色石头)，确认掉落铜矿石。

   ------

   ## 🏠 第四阶段：回家与休息 (6:00 PM - 2:00 AM)

   **目标**: 验证存档与每日结算

   1. **回家**:

      -  从矿井返回小镇，再向左返回 **农场**。
      -  走到房子门口 (左上角)，按 `空格` 进入 **小屋 (HOUSE)**。
      -  **验证**: 室内场景加载，有床和电视。

   2. **整理物资**:

      -  走到室内的 **箱子** 前，按 `空格` 或右键打开。
      -  尝试将背包里的 **木头** 或 **石头** 放入箱子。
      -  **验证**: 物品成功转移。

   3. **睡觉存档**:

      -  走到 **床** 边 (按 `空格` 无反应，需等待时间或自动触发，目前逻辑是 2:00 AM 强制睡觉，或者我们可以测试强制睡觉逻辑如果已实现，目前版本是自动存档)。

      -  **测试强制睡眠**: 挂机等待时间流逝直到 2:00 AM (26:00)。

      -  **验证**: 屏幕渐黑，显示 "你已昏睡..."，然后醒来。

      -  

        关键验证

        :

        - 日期变为 **第 2 天**。
        - 体力恢复满。
        - 作物生长 (如果昨天浇水了，种子应发芽)。
        - 刷新网页 (F5)，确认游戏进度 (位置、物品、日期) **未丢失**。

   ------

   ## 🧪 异常测试 (Edge Cases)

   1. **体力耗尽**: 疯狂使用工具直到体力 0，确认无法再挥动工具。
   2. **食用恢复**: 如果有防风草 (需第5天收获)，右键食用确认恢复体力。
   3. **撞墙测试**: 按住 W 对着墙壁走，确认角色方向正确且不会穿墙。